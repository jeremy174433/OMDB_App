<!--
  Generated template for the BoxofficePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Box office</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <h1 text-center>Box office 2018</h1>
  <ion-grid class="tabSwitchArrGraph">
    <ion-row>
      <ion-col col-6>
        <button ion-button full icon-start (click)="displayArray()" [ngClass]="{'arrayActiveBtn': !showCharts, 'arrayUnactiveBtn': showCharts}">Tableau</button>
      </ion-col>
      <ion-col col-6>
        <button ion-button full icon-start (click)="displayCharts()" [ngClass]="{'chartsActiveBtn': showCharts, 'chartsUnactiveBtn': !showCharts}">Graphique</button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <div [ngClass]="{'arrayContainer': true, 'showArray': !showCharts, 'hideArray': showCharts}">
    <table>
      <thead>
        <tr>
          <th scope="col">Nom</th>
          <th scope="col">Budget</th>
          <th scope="col">Revenu</th>
          <th scope="col">Bénéfice</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let movieRevenue of boxOffice" (click)="goToDetailsMovies(movieRevenue)">
          <td scope="row" data-label="Nom">{{movieRevenue.title}}</td>
          <td data-label="Budget">{{movieRevenue.budget}} $</td> 
          <td data-label="Revenue">{{movieRevenue.revenue}} $</td>
          <td data-label="Bénéfice">{{ movieRevenue.revenue - movieRevenue.budget  }} $</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div [ngClass]="{'chartsContainer': true, 'showCharts': showCharts, 'hideCharts': !showCharts}" style="position: relative; height:40vh; width:80vw">
    <p>Charts</p>
    <canvas #barCanvas></canvas>
  </div>
</ion-content>
